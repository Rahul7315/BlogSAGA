<html>
  <%- include('./partials/head.ejs')%>
  <style>
    .card-container {
      border: 2px solid black;
      margin-left: 10%;
      margin-top: 4%;
      background-color: azure;
      position: relative;
      margin-right: 5%;
      display: flex;
      flex-direction: row;
    }
    .card {
      width: 18%;
      height: 50%;
      margin-top: 20px;
      margin-left: 20px;
      margin-bottom: 20px;
      border-radius: 20px;
      /* Default background color */
      background-color: azure;
    }
    .title {
      padding: 10px;
    }
    .snippet {
      padding: 10px;
    }
    .type {
      padding: 10px;
    }
    .read {
      padding: 10px;
    }
    .head-container{
      
      margin-right: 5%;
      margin-left: 10%;
      margin-top: 3%;
      display: flex;
    }
    .title-intro{
      width: 50%;
      height: 30%;
      padding: 10px;
      color: white;
    }
    .subcribe{
      border: 2px solid black;
      background-color: black;
      margin: 20px;
      width: 50%;
      border-radius: 20px;
      padding: 20px;
    }
  </style>
  <body>
    <%- include('./partials/nav.ejs')%>
    <div><%- include('./sub-navbar.ejs') %></div>
    <div class="head-container">
      <div class="title-intro">
          <h1 style="color: black;">THE SAGA BLOG'S</h1>
          <h4 style="color: rgb(114, 113, 111);">Welcome to SAGA's Blog, where we bring you inspiring stories of 
            success and valuable lessons from the world of business and entrepreneurship. 
            Dive into a collection of captivating narratives that chronicle the journeys 
            of visionary founders, their triumphs, and their encounters with failure. 
          </h4>
      </div>
      <div class="subcribe">
          <h1 style="color: whitesmoke;">SUBSCRIBE US</h1>
          <p style="color: white;">Subscribe to SAGA's Blog and stay updated with the latest success stories,
             business insights, and entrepreneurial wisdom delivered directly to your inbox</p>
          <input style="border: 2px solid white; border-radius: 10px;" type="text" name="Email" placeholder="Enter Email Address" id="">
          <button style="border-radius: 10px; background-color: whitesmoke;" >Subscribe</button>   
      </div>
    </div>
    <div class="card-container">
      <% if (data1.length > 0) {
        const lastIndex = data1.length - 1;
        const startIndex = Math.max(0, lastIndex - 4);
        const lastFiveBlogs = data1.slice(startIndex, lastIndex + 1);
        lastFiveBlogs.forEach(blog => {
          // Set the background color based on blog_type
          const backgroundColor = blog.blog_type === 'failure' ? 'red' : 'green';
      %>
      <div class="card" style="border: 2px solid <%= backgroundColor %>; padding: 20px;">
        <div class="title">
          <h3><%= blog.title %></h3>
        </div>
        <div class="snippet">
          <h5><%= blog.snippet %></h5>
        </div>
        <div class="type">
          <h6>Story Type: <%= blog.blog_type %></h6>
        </div>
        <div class="read">
          <a style="text-decoration: none;" href="/details/<%= blog._id %>">Read More</a>
        </div>
        
      </div>
      <% }); } %>
    </div>
  </body>
</html>
